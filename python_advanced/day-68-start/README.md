# Day 68 목표 - 인증을 통해 로그인 및 사용자 등록하기
웹 사이트의 가장 중요한 구성 요소는 사용자를 확보하는 것입니다. 웹 사이트에 기여할 수 있는 실제 사람들 말이죠. 페이스북에 사용자가 없다면 그건 단지 광고 사이트에 불과할 것이고, 사용자가 없는 블로그는 블로그 작성자의 무의미한 이야기일 뿐입니다.
그런데 사용자를 확보하고 사용자 계정에 데이터를 연결하려면 사용자를 등록하고 나중에 다시 계정에 로그인할 수 있도록 하는 방법이 필요합니다.
즉, 사용자로부터 어떤 정보를 제공받아야 하며, 그러한 정보에 대한 보안을 지켜야 함을 의미합니다. 사용자가 제공한 정보가 실제 해당 사용자의 것이 맞는지 어떻게 알아내는지가 바로 사용자 인증의 핵심이자 오늘 강의의 목표입니다. 사용자가 자신의 개인 프로필 페이지에 접속할 수 있도록 이메일과 비밀번호로 사용자 등록, 로그인, 로그아웃하는 방법을 알아봅시다.
또한 사용자가 기밀 자료인 Flask 프로그래밍 치트 시트를 다운로드할 수 있도록 하되, 우리의 웹 사이트에 등록 및 가입한 경우에만 다운로드가 가능하도록 해보겠습니다.

다음은 오늘 수업 중에 우리가 만들 항목의 데모입니다.

# 시작 프로젝트 다운로드
1. Starting Files - flask-auth-start.zip 파일을 다운로드하세요.
2. 파일의 압축을 풀고 파이참에서 여세요.
3. 필요한 패키지를 모두 설치하고(임포트) 빨간색 밑줄이 없는지 확인하세요.
시작 파일은 users.db라는 SQLite 데이터베이스로 이루어져 있으며, 이전에 데이터베이스를 만들었던 것과 같은 방식으로 만들어졌습니다.
4. DB 뷰어를 사용하여 데이터베이스를 살펴보고 데이터베이스의 필드를 숙지하시기 바랍니다.
5. 앱을 실행하고 버튼과 내비게이션 바를 사용하여 탐색합니다. 모든 HTML 페이지는 이미 올바르게 렌더링되어 있어야 합니다. 물론 로그인/등록 양식은 작동하지 않습니다. 시작하기 전에 모든 코드를 살펴보고 모든 것이 제대로 되어 있는지 확인하세요.


# 신규 사용자 등록
신규 사용자를 등록하려면 register.html에 입력한 정보를 가져와 users.db에 저장할 email, name, password를 사용하여 신규 User 객체를 만들어야 합니다.
사용자 등록이 완료되면 바로 secrets.html 페이지로 이동할 겁니다.
secrets.html 페이지에 'Hello <insert name>'이 표시되고, 여기에 등록 양식에 입력한 이름이 나타나야 합니다.
다음과 같이 표시되도록 하는 것이 우리의 목표입니다.
이 시점에서 데이터베이스에 다음과 같이 양식에 입력된 데이터와 동일한 새 항목이 표시되어야 합니다.

파일을 어떻게 다운로드할지는 아직 고민할 필요 없습니다. 다음 시간에 배울 테니까요!

https://gist.github.com/angelabauer/3d730b28bd4f27728f12db75a559da07



# 파일 다운로드하기
사용자가 secrets.html 페이지에 접속하면 기밀 파일을 다운로드할 수 있어야 합니다. 참고로 기밀 파일은 시작 프로젝트의 static > files > cheat_sheet.pdf에 있습니다.
이 문제를 해결하려면 send_from_directory()라는 플라스크의 메소드를 사용해야 합니다.
1. 먼저 secrets.html 페이지로 이동하여 앵커 태그가 /download 경로에서 서버에 GET 요청을 하도록 합니다.
2. 다운로드 경로에서 사용자가 '파일 다운로드(Download Your File)' 버튼을 클릭하면, send_from_directory()에 대한 문서를 사용하여 cheat_sheet.pdf 파일을 다운로드합니다.

https://flask.palletsprojects.com/en/1.1.x/api/#flask.send_from_directory

그러면 이렇게 되어야 합니다.
![alt text](image.png)

해답 - https://gist.github.com/angelabauer/fb9e657162a881d02a6b2c0024de7c15


# 암호화와 해싱

링크
https://cryptii.com/
https://www.youtube.com/watch?v=G2_Q9FoD-oQ&ab_channel=Numberphile
https://www.youtube.com/watch?v=V4V2bpZlqx8&ab_channel=Numberphile

